<!doctype html>
<html>

<head>
    <title>PMS - User Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{ url_for('static',filename='bootstrap/css/bootstrap.min.css') }}" rel="stylesheet" media="screen">
    <script src="{{ url_for('static', filename='jquery/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>
    <link href="{{url_for('static',filename='fontawesome/css/all.css')}}" rel="stylesheet">

    <script>
        $(() => {
            // $(".ditem").click((event) => {
            //     event.stopPropagation();
            //     event.stopImmediatePropagation();
            //     alert($(this).attr("id"))
            // })

            $("#titleInputField").keyup(() => {
                $("#existingThesisView").empty()
                $("#itemDiv").empty()
                $("#titleSubmitButton").removeAttr("disabled")
                const text = $("#titleInputField").val()
                
                if(text.length>0) {
                    $.ajax({
                        url: "/searchThesis/"+text,
                        success: data => {
                            if(data.length>0) {
                                $("#existingThesisView").empty()
                                // $("#titleSubmitButton").prop("disabled", true)
                                data.forEach( d => {
                                    //onclick="onclickitem('`+title+`','`+d.name+`', '`+d.rollNo+`', '`+d.year+`')"
                                    const title = d.title.replace("\'", "\\'")
                                    $("#existingThesisView").append(`
                                        <div 
                                            id="d`+title+`" 
                                            onclick="onclickitem('`+title+`','`+d.name.replace('\'', "\\'")+`', '`+d.rollNo+`', '`+d.year+`')" 
                                            class='ditem px-2 py-2 text-secondary border border-muted' 
                                            style='border-radius: 1px; cursor: pointer'
                                            onmouseover="itemover(this)" onmouseout="itemout(this)">`
                                            +d.title+
                                        `</div>`)
                                    
                                })
                            }
                        }
                    })
                }
            })

            // let current_datetime = new Date()
            // let formatted_date =  current_datetime.getFullYear()+ "-" + appendLeadingZeroes(current_datetime.getMonth() + 1) + "-" + appendLeadingZeroes(current_datetime.getDate())

            // console.log(formatted_date)

            // $("#dateId").attr("min", "2019-10-04")
            
        })

        function appendLeadingZeroes(n){
            if(n <= 9){
                return "0" + n;
            }
            return n
        }

        function itemover(e) {
            $(e).attr("style", "border-radius: 1px; cursor: pointer; background-color: #f3f3f7;")
        }

        function itemout(e) {
            $(e).attr("style", "border-radius: 1px; cursor: pointer; background-color: #fefefe;")
        }

        function onclickitem (title, name, rollNo, year) {
            $("#titleInputField").val(title)
            $("#existingThesisView").empty()
            $("#itemDiv").append(`
                <div class="p-2">
                    <div class="p-2 d-flex flex-row font-weight-bold">
                        <div class="text-muted" style="width: 200px;">Title: </div>`+title+`
                    </div>
                    <div class="p-2 d-flex flex-row font-weight-bold">
                        <div class="text-muted" style="width: 200px;">Name: </div>`+name+`
                    </div>
                    <div class="p-2 d-flex flex-row font-weight-bold">
                        <div class="text-muted" style="width: 200px;">Roll Number:</div> `+rollNo+`
                    </div>
                    <div class="p-2 d-flex flex-row font-weight-bold">
                        <div class="text-muted" style="width: 200px;">Year:</div> `+year+`
                    </div>
                </div>
            `)
        }

    </script>

    <style>
        .ditem:hover {
            background-color: #a5a5a5
        }
    </style>

</head>

<!-- <body class="" style="background-image: url('utycc.jpg'); background-repeat: no-repeat; background-position: center; background-size: cover; background-attachment: fixed; background-origin: padding-box"> -->

<body class="" style="background-color: #f0f0f9">
    <div class="container-fluid">
        <div class="row justify-content-center p-0">
            <div class="col-md-9 col-sm-12 p-1 justify-content-center">

                <div class="d-flex flex-column py-2 bg-white rounded border border-muted">
                    <div class="d-flex flex-row px-4 py-2 rounded justify-content-between align-items-center">
                        <div class="font-weight-bold">Project Management</div>
                        <div class="d-flex flex-row">
                            <a href="/noti" class="px-3 d-flex flex-column justify-content-center" style="text-decoration: none">
                                <div class="text-center" >
                                    {% if newNotiNo and newNotiNo>0 %} 
                                        <span class="badge badge-danger p-1 tex-white" style="position: absolute; border-radius: 1000px;">{{ newNotiNo }}</span>
                                    {% endif %}
                                    <i class="fa fa-envelope" style="font-size: 30px; color: #787878"></i>
                                </div>
                                <div class="text-muted">Notification</div>
                            </a>
                        
                            <div class="d-flex flex-column px-2">
                                <div class="dropdown" style="cursor: pointer">
                                    <div class="dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown"
                                        aria-haspopup="true" aria-expanded="false">
                                        <span class="px-2">{{request.cookies.get('loggedName')}}</span>
                                    </div>
                                    <div class="dropdown-menu py-1" aria-labelledby="dropdownMenuButton">
                                        <a class="dropdown-item" href="/logout"><i class="fa fa-user-circle pr-2 text-secondary"></i>Sign out</a>
                                    </div>
                                </div>
                                <div class="pt-2 text-muted">{{request.cookies.get('loggedEmail')}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="my-2 border border-muted border-top-0 border-left-0 border-right-0"></div>
                    <div class="d-flex flex-row px-4 py-2 rounded justify-content-between align-items-center">
                        <nav class="nav nav-pills nav-justified">
                            <a class="nav-link py-1 {{'active' if request.path=='/homeUser' else ''}}"
                                href="/homeUser">Title</a>
                            <a class="nav-link py-1 {{'active' if request.path=='/userFirst' else ''}}"
                                href="/userFirst">First Seminar</a>
                            <a class="nav-link py-1 {{'active' if request.path=='/userSecond' else ''}}"
                                href="/userSecond">Second Seminar</a>
                            <a class="nav-link py-1 {{'active' if request.path=='/userThird' else ''}}"
                                href="/userThird">Third Seminar</a>
                            <a class="nav-link py-1 {{'active' if request.path=='/userClose' else ''}}"
                                href="/userClose">Closing</a>
                        </nav>
                    </div>
                </div>

                {% if request.path=="/homeUser" and thesis is none %}

                <!-- Title select =================================================================================================== -->
                <div class="d-flex flex-column py-2 rounded col-md-8 col-sm-12 px-0">
                    <div class="d-flex flex-row py-4 px-2 justify-content-between align-items-center">
                        <div class="text-secondary font-weight-bold h5">Lets get start!</div>
                    </div>

                    <div class="rounded bg-white border border-top-0 border-muted my-2 p-3 px-4">
                        <form action="/homeUser" method="POST">
                            <div class="pt-3 pb-2">Dear mate, you need to check your thesis title have already done in recent years</div>
                            <div class="pt-2">
                                <div class="text-muted py-1">Enter your thesis title</div>
                                <input type="text" id="titleInputField" class="form-control" name="title" value="{{ title }}" placeholder="Enter your title" required/>
                                <div class="pb-2 pt-1" style="position: absolute; left: 24px; right: 24px" >
                                    <div class="bg-white" id="existingThesisView"></div>
                                </div>
                            </div>

                            <div class="p-2 pb-3" id="itemDiv"></div>
                            
                            <div class="pb-4 pt-3 d-flex justify-content-end" style="border-top: 1px solid #e5e5f0">
                                <button type="submit" id="titleSubmitButton" class="btn btn-primary px-3">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            
                {% elif thesis is not none and stepNo==5 and thesis.pending==1 %} 

                <div class="d-flex flex-column rounded col-md-8 col-sm-12 p-5">
                    Your thesis has not approved yet!
                </div>

                {% elif request.path=="/homeUser" and thesis is not none %} 
                <!-- Deadline -->
                <div class="d-flex flex-column py-2 rounded  col-md-8 col-sm-12 px-0">
                    <div class="d-flex flex-row py-4 px-2 justify-content-between align-items-center">
                        <div class="text-secondary font-weight-bold h5">Lets get start!</div>
                    </div>

                    <div class="rounded bg-white border border-muted my-2 p-3 px-4">
                        <form action="/selectTitle" method="POST">
                            <div class="pt-3 pb-2">Title Defense</div>
                            <div class="py-2">
                                <div class="text-muted py-1">Title</div>
                                <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ thesis.title if thesis }}</div>
                            </div>
                            
                            {% if step %}
                                <div class="pb-2 d-flex flex-wrap">
                                {% for task in step.tasks %}
	                                <div class="px-1">
	                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
		                                    <div class="d-flex align-items-center">
		                                        <label class="form-check-label">{{ task }}</label>
		                                    </div>    
	                                    </div>
	                                </div>
                                {% endfor %}
                                </div>
                            <!-- Task Selector -->
                            {% else %}
                            <div class="pb-2 d-flex flex-wrap">
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task1" value="Prepare for title defense" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task1">Prepare for title defense</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task" value="Find Field background and Theory requirement" class="form-check-input my-0"  />
                                            <label class="form-check-label" for="task" >Find Field background and Theory requirement</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task3" value="Flow-chart implementation" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task3">Flow-chart implementation</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task4" value="Feasible expected output" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task4">Feasible expected output</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task5" value="Complete Thesis book Chapter(2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task5">Complete Thesis book Chapter(2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task6" value="Complete database and 20% (design) of code" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task6">Complete database and 20% (design) of code</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task7" value="Complete Thesis book Chapter(1 and 2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task7">Complete Thesis book Chapter(1 and 2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task8" value="Complete 60% of implementation and full design" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task8">Complete 60% of implementation and full design</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task9" value="Complete Thesis book Chapter(1 to 4)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task9">Complete Thesis book Chapter(1 to 4)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task10" value="Complete overall implementation and test system" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task10">Complete overall implementation and test system</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task11" value="Complete Thesis book" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task11">Complete Thesis book</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task12" value="Complete Soft copy of book and coding" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task12">Complete Soft copy of book and coding</label>
                                        </div>    
                                    </div>
                                </div>
                            </div>    
                            {% endif %}


                            <div class="py-2">
                                <div class="text-muted py-1">Expected output</div>
                                <div class="py-1">
                                    <textarea rows="5" name="expectedOutput" class="form-control bg-white" placeholder="Enter expected output" required>{{ step.expectedOutput if step }}</textarea>
                                </div>
                            </div>
                            <div class="py-2">
                                <div class="text-muted py-1">Deadline</div>
                                <input type="date" id="dateId" name="deadline" class="form-control" value="{{ step.deadline if step }}" min="{{sdate}}" required />
                                <!-- disabled="{{ 'false' if not deadline else 'true' }}" -->
                                <!-- <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ deadline }}</div> -->
                            </div>
                            <div class="py-2">
                                {% if not step %}
                                    <button type="submit" class="btn btn-primary btn-block">Submit</button>
                                {% endif %}
                            </div>
                        </form>
                    </div>
                </div>

                {% elif request.path=="/userFirst" %} 

                <!-- First =================================================================================================== -->
                <div class="d-flex flex-column py-2 rounded  col-md-8 col-sm-12 px-0">
                    <div class="d-flex flex-row py-4 px-2 justify-content-between align-items-center">
                        <div class="text-secondary font-weight-bold h5">First Seminar</div>
                    </div>

                    <div class="rounded bg-white border border-muted my-2 p-3 px-4">
                        <form action="/userFirst" method="POST">
                            <div class="pt-3 pb-2">First Seminar</div>
                            <div class="py-2">
                                <div class="text-muted py-1">Title</div>
                                <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ thesis.title if thesis else 'Not set yet' }}</div>
                            </div>
                            
                            {% if step %}
                                <div class="pb-2 d-flex flex-wrap">
                                {% for task in step.tasks %}
	                                <div class="px-1">
	                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
		                                    <div class="d-flex align-items-center">
		                                        <label class="form-check-label">{{ task }}</label>
		                                    </div>    
	                                    </div>
	                                </div>
                                {% endfor %}
                                </div>
                            <!-- Task Selector -->
                            {% else %}
                            <div class="pb-2 d-flex flex-wrap">
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Prepare for title defense" class="form-check-input my-0" />
                                            <label class="form-check-label">Prepare for title defense</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Find Field background and Theory requirement" class="form-check-input my-0" />
                                            <label class="form-check-label">Find Field background and Theory requirement</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task3" value="Flow-chart implementation" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task3">Flow-chart implementation</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task4" value="Feasible expected output" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task4">Feasible expected output</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task5" value="Complete Thesis book Chapter(2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task5">Complete Thesis book Chapter(2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task6" value="Complete database and 20% (design) of code" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task6">Complete database and 20% (design) of code</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task7" value="Complete Thesis book Chapter(1 and 2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task7">Complete Thesis book Chapter(1 and 2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task8" value="Complete 60% of implementation and full design" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task8">Complete 60% of implementation and full design</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task9" value="Complete Thesis book Chapter(1 to 4)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task9">Complete Thesis book Chapter(1 to 4)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task10" value="Complete overall implementation and test system" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task10">Complete overall implementation and test system</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task11" value="Complete Thesis book" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task11">Complete Thesis book</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task12" value="Complete Soft copy of book and coding" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task12">Complete Soft copy of book and coding</label>
                                        </div>    
                                    </div>
                                </div>
                            </div>
                            {% endif %}

                            <div class="py-2">
                                <div class="text-muted py-1">Deadline</div>
                                <input type="date" id="dateId" name="deadline" class="form-control" value="{{ step.deadline  if step }}" min="{{sdate}}" />
                                <!-- disabled="{{ 'false' if not deadline else 'true' }}" -->
                                <!-- <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ deadline }}</div> -->
                            </div>
                            <div class="py-2">
                                {% if not step %}
                                <button type="submit" class="btn btn-primary btn-block">Submit</button>
                                {% endif %}
                            </div>
                        </form>
                    </div>
                </div>

                {% elif request.path=="/userSecond" %} 

                <!-- Second =================================================================================================== -->
                <div class="d-flex flex-column py-2 rounded  col-md-8 col-sm-12 px-0">
                    <div class="d-flex flex-row py-4 px-2 justify-content-between align-items-center">
                        <div class="text-secondary font-weight-bold h5">Second Seminar</div>
                    </div>

                    <div class="rounded bg-white border border-muted my-2 p-3 px-4">
                        <form action="/userSecond" method="POST">
                            <div class="pt-3 pb-2">Second Seminar</div>
                            <div class="py-2">
                                <div class="text-muted py-1">Title</div>
                                <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ thesis.title if thesis else 'Not set yet' }}</div>
                            </div>
                            
                            {% if step %}
                                <div class="pb-2 d-flex flex-wrap">
                                {% for task in step.tasks %}
	                                <div class="px-1">
	                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
		                                    <div class="d-flex align-items-center">
		                                        <label class="form-check-label">{{ task }}</label>
		                                    </div>    
	                                    </div>
	                                </div>
                                {% endfor %}
                                </div>
                            <!-- Task Selector -->
                            {% else %}
                            <div class="pb-2 d-flex flex-wrap">
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Prepare for title defense" class="form-check-input my-0" />
                                            <label class="form-check-label">Prepare for title defense</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Find Field background and Theory requirement" class="form-check-input my-0" />
                                            <label class="form-check-label">Find Field background and Theory requirement</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task3" value="Flow-chart implementation" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task3">Flow-chart implementation</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task4" value="Feasible expected output" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task4">Feasible expected output</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task5" value="Complete Thesis book Chapter(2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task5">Complete Thesis book Chapter(2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task6" value="Complete database and 20% (design) of code" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task6">Complete database and 20% (design) of code</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task7" value="Complete Thesis book Chapter(1 and 2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task7">Complete Thesis book Chapter(1 and 2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task8" value="Complete 60% of implementation and full design" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task8">Complete 60% of implementation and full design</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task9" value="Complete Thesis book Chapter(1 to 4)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task9">Complete Thesis book Chapter(1 to 4)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task10" value="Complete overall implementation and test system" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task10">Complete overall implementation and test system</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task11" value="Complete Thesis book" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task11">Complete Thesis book</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task12" value="Complete Soft copy of book and coding" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task12">Complete Soft copy of book and coding</label>
                                        </div>    
                                    </div>
                                </div>
                            </div>
                            {% endif %}

                            <div class="py-2">
                                <div class="text-muted py-1">Deadline</div>
                                <input type="date" id="dateId" name="deadline" class="form-control" value="{{ step.deadline  if step}}" min="{{sdate}}" />
                                <!-- disabled="{{ 'false' if not deadline else 'true' }}" -->
                                <!-- <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ deadline }}</div> -->
                            </div>
                            <div class="py-2">
                                {% if not step %}
                                <button type="submit" class="btn btn-primary btn-block">Submit</button>
                                {% endif %}
                            </div>
                        </form>
                    </div>
                </div>

                {% elif request.path=="/userThird" %} 

                <!-- Third =================================================================================================== -->
                <div class="d-flex flex-column py-2 rounded  col-md-8 col-sm-12 px-0">
                    <div class="d-flex flex-row py-4 px-2 justify-content-between align-items-center">
                        <div class="text-secondary font-weight-bold h5">Third Seminar</div>
                    </div>

                    <div class="rounded bg-white border border-muted my-2 p-3 px-4">
                        <form action="/userThird" method="POST">
                            <div class="pt-3 pb-2">Third Seminar</div>
                            <div class="py-2">
                                <div class="text-muted py-1">Title</div>
                                <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ thesis.title if thesis else 'Not set yet' }}</div>
                            </div>
                           
                            {% if step %}
                                <div class="pb-2 d-flex flex-wrap">
                                {% for task in step.tasks %}
	                                <div class="px-1">
	                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
		                                    <div class="d-flex align-items-center">
		                                        <label class="form-check-label">{{ task }}</label>
		                                    </div>    
	                                    </div>
	                                </div>
                                {% endfor %}
                                </div>
                            <!-- Task Selector -->
                            {% else %}
                            <div class="pb-2 d-flex flex-wrap">
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Prepare for title defense" class="form-check-input my-0" />
                                            <label class="form-check-label">Prepare for title defense</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Find Field background and Theory requirement" class="form-check-input my-0" />
                                            <label class="form-check-label">Find Field background and Theory requirement</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task3" value="Flow-chart implementation" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task3">Flow-chart implementation</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task4" value="Feasible expected output" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task4">Feasible expected output</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task5" value="Complete Thesis book Chapter(2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task5">Complete Thesis book Chapter(2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task6" value="Complete database and 20% (design) of code" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task6">Complete database and 20% (design) of code</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task7" value="Complete Thesis book Chapter(1 and 2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task7">Complete Thesis book Chapter(1 and 2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task8" value="Complete 60% of implementation and full design" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task8">Complete 60% of implementation and full design</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task9" value="Complete Thesis book Chapter(1 to 4)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task9">Complete Thesis book Chapter(1 to 4)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task10" value="Complete overall implementation and test system" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task10">Complete overall implementation and test system</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task11" value="Complete Thesis book" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task11">Complete Thesis book</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task12" value="Complete Soft copy of book and coding" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task12">Complete Soft copy of book and coding</label>
                                        </div>    
                                    </div>
                                </div>
                            </div>
                            {% endif %}

                            <div class="py-2">
                                <div class="text-muted py-1">Deadline</div>
                                <input type="date" id="dateId" name="deadline" class="form-control" value="{{ step.deadline if step }}" required min="{{sdate}}" />
                                <!-- disabled="{{ 'false' if not deadline else 'true' }}" -->
                                <!-- <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ deadline }}</div> -->
                            </div>
                            <div class="py-2">
                                {% if not step %}
                                <button type="submit" class="btn btn-primary btn-block">Submit</button>
                                {% endif %}
                            </div>
                        </form>
                    </div>
                </div>

                {% elif request.path=="/userClose" %} 

                <!-- Close =================================================================================================== -->
                <div class="d-flex flex-column py-2 rounded  col-md-8 col-sm-12 px-0">
                    <div class="d-flex flex-row py-4 px-2 justify-content-between align-items-center">
                        <div class="text-secondary font-weight-bold h5">Thesis Closing</div>
                    </div>

                    <div class="rounded bg-white border border-muted my-2 p-3 px-4">
                        <form action="/userClose" method="POST">
                            <div class="pt-3 pb-2">Thesis Closing</div>
                            <div class="py-2">
                                <div class="text-muted py-1">Title</div>
                                <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ thesis.title if thesis else 'Not set yet' }}</div>
                            </div>
                            
                            {% if step %}
                                <div class="pb-2 d-flex flex-wrap">
                                {% for task in step.tasks %}
	                                <div class="px-1">
	                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
		                                    <div class="d-flex align-items-center">
		                                        <label class="form-check-label">{{ task }}</label>
		                                    </div>    
	                                    </div>
	                                </div>
                                {% endfor %}
                                </div>
                            <!-- Task Selector -->
                            {% else %}
                            <div class="pb-2 d-flex flex-wrap">
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Prepare for title defense" class="form-check-input my-0" />
                                            <label class="form-check-label">Prepare for title defense</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" value="Find Field background and Theory requirement" class="form-check-input my-0" />
                                            <label class="form-check-label">Find Field background and Theory requirement</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task3" value="Flow-chart implementation" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task3">Flow-chart implementation</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task4" value="Feasible expected output" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task4">Feasible expected output</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="px-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task5" value="Complete Thesis book Chapter(2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task5">Complete Thesis book Chapter(2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task6" value="Complete database and 20% (design) of code" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task6">Complete database and 20% (design) of code</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task7" value="Complete Thesis book Chapter(1 and 2)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task7">Complete Thesis book Chapter(1 and 2)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task8" value="Complete 60% of implementation and full design" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task8">Complete 60% of implementation and full design</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task9" value="Complete Thesis book Chapter(1 to 4)" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task9">Complete Thesis book Chapter(1 to 4)</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task10" value="Complete overall implementation and test system" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task10">Complete overall implementation and test system</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task11" value="Complete Thesis book" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task11">Complete Thesis book</label>
                                        </div>    
                                    </div>
                                </div>
                                <div class="p-1">
                                    <div class="badge-primary py-1 px-2 align-items-center form-group my-1" style="border-radius: 1000px;">
                                        <div class="form-check d-flex align-items-center">
                                            <input type="checkbox" name="task" id="task12" value="Complete Soft copy of book and coding" class="form-check-input my-0" />
                                            <label class="form-check-label" for="task12">Complete Soft copy of book and coding</label>
                                        </div>    
                                    </div>
                                </div>
                            </div>
                            {% endif %}

                            <div class="py-2">
                                <div class="text-muted py-1">Deadline</div>
                                <input type="date" id="dateId" name="deadline" class="form-control" value="{{step.deadline if step}}" min="{{sdate}}" />
                                <!-- disabled="{{ 'false' if not deadline else 'true' }}" -->
                                <!-- <div class="text-secondary font-weight-bold p-2 px-3 border border-muted rounded">{{ deadline }}</div> -->
                            </div>
                            <div class="py-2">
                                {% if not step %}
                                <button type="submit" class="btn btn-primary btn-block">Submit</button>
                                {% endif %}
                            </div>
                        </form>
                    </div>
                </div>

                {% endif %}


            </div>
        </div>
    </div>

</body>

</html>